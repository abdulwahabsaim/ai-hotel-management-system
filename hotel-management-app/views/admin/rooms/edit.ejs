<%- include('../../partials/header') %>

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-header">
                    <h2>Edit Room: <%= room.roomNumber %></h2>
                </div>
                <div class="card-body">
                    <form action="/admin/rooms/<%= room._id %>?_method=PUT" method="POST">
                        <div class="mb-3">
                            <label for="roomNumber" class="form-label">Room Number</label>
                            <input type="text" class="form-control" name="roomNumber" value="<%= room.roomNumber %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="type" class="form-label">Room Type</label>
                            <select name="type" class="form-select" required>
                                <option value="Single" <%= room.type === 'Single' ? 'selected' : '' %>>Single</option>
                                <option value="Double" <%= room.type === 'Double' ? 'selected' : '' %>>Double</option>
                                <option value="Suite" <%= room.type === 'Suite' ? 'selected' : '' %>>Suite</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="price" class="form-label">Price per Night ($)</label>
                            <input type="number" class="form-control" name="price" value="<%= room.price %>" required min="0">
                        </div>
                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea name="description" class="form-control" rows="3"><%= room.description %></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="amenities" class="form-label">Amenities (comma-separated)</label>
                            <input type="text" class="form-control" name="amenities" value="<%= room.amenities.join(', ') %>">
                        </div>
                        <div class="mb-3">
                            <label for="images" class="form-label">Image URLs (comma-separated)</label>
                            <input type="text" class="form-control" name="images" value="<%= room.images.join(', ') %>">
                        </div>
                        <div class="mb-3">
                            <label for="isAvailable" class="form-label">Room Status</label>
                            <select name="isAvailable" class="form-select" required>
                                <option value="true" <%= room.isAvailable ? 'selected' : '' %>>Available (for booking)</option>
                                <option value="false" <%= !room.isAvailable ? 'selected' : '' %>>Occupied (by a guest)</option>
                                <option value="out_of_service">Out of Service (for maintenance)</option>
                            </select>
                            <div class="form-text">
                                'Occupied' and 'Out of Service' both make the room unavailable for booking.
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Update Room</button>
                        <a href="/admin/rooms" class="btn btn-secondary">Cancel</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('../../partials/footer') %>