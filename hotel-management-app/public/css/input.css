@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply transition-colors duration-300;
    animation: fadeInAnimation ease 0.5s;
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
  }
  @keyframes fadeInAnimation {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
}

@layer components {
    /* SCROLL ANIMATION */
    .reveal-on-scroll {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* ======================================== */
    /* === NEW & BEAUTIFUL CHAT WIDGET STYLES === */
    /* ======================================== */

    /* Chat bubble base styles with softer corners */
    .chat-bubble-ai {
        @apply bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 p-3 rounded-2xl rounded-bl-lg max-w-xs shadow-sm;
    }
    .chat-bubble-user {
        @apply bg-blue-600 text-white p-3 rounded-2xl rounded-br-lg max-w-xs shadow-sm;
    }
    
    /* Ensure markdown content within bubbles is styled correctly */
    .chat-bubble-ai p, .chat-bubble-user p { @apply my-1; }
    .chat-bubble-ai ul, .chat-bubble-user ul { @apply list-disc list-inside my-2; }
    .chat-bubble-ai a, .chat-bubble-user a { @apply text-blue-500 underline; }
    .chat-bubble-ai strong, .chat-bubble-user strong { @apply font-bold; }

    /* A modern, subtle background pattern for the chat message area */
    .bg-pattern {
        background-color: #f8fafc; /* bg-slate-50 */
        opacity: 1;
        background-image: linear-gradient(#e2e8f0 1px, transparent 1px), linear-gradient(to right, #e2e8f0 1px, #f8fafc 1px);
        background-size: 20px 20px;
    }
    .dark .bg-pattern {
        background-color: #1f2937; /* dark:bg-gray-800 */
        background-image: linear-gradient(#374151 1px, transparent 1px), linear-gradient(to right, #374151 1px, #1f2937 1px);
        background-size: 20px 20px;
    }

    /* Typing indicator styles */
    .typing-indicator span {
        height: 8px; width: 8px; float: left; margin: 0 1px; background-color: #9E9EA1; display: block; border-radius: 50%; opacity: 0.4;
        animation: 1s blink infinite .3333s;
    }
    .typing-indicator span:nth-child(2) { animation-delay: .6666s; }
    .typing-indicator span:nth-child(3) { animation-delay: .9999s; }
    @keyframes blink { 50% { opacity: 1; } }

    /* Chat window and message animations */
    .animate-fade-in-up {
        animation: fadeInUp 0.5s ease-out forwards;
    }
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .chat-enter-active {
        animation: enterAnimation 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
    @keyframes enterAnimation {
        from { opacity: 0; transform: translateY(20px) scale(0.95); }
        to { opacity: 1; transform: translateY(0) scale(1); }
    }

    .chat-leave-active {
        animation: leaveAnimation 0.3s ease-in forwards;
    }
    @keyframes leaveAnimation {
        from { opacity: 1; transform: translateY(0) scale(1); }
        to { opacity: 0; transform: translateY(20px) scale(0.95); }
    }
}